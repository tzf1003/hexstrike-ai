# HexStrike AI MCPå®¢æˆ·ç«¯ - é‡æ„ç‰ˆæœ¬

## ğŸš€ æ¦‚è¿°

HexStrike AI MCPå®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªå®Œå…¨é‡æ„çš„æ¨¡å—åŒ–æ¶æ„ï¼Œä¸ºAIä»£ç†æä¾›äº†ä¸HexStrike AIå®‰å…¨å¹³å°çš„æ— ç¼é€šä¿¡æ¥å£ã€‚è¯¥ç‰ˆæœ¬é‡‡ç”¨äº†ç°ä»£åŒ–çš„è®¾è®¡æ¨¡å¼ï¼Œæ”¯æŒ150+å®‰å…¨å·¥å…·ï¼Œå¹¶æä¾›äº†å®Œæ•´çš„ä¸­æ–‡åŒ–ç•Œé¢ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ¨¡å—åŒ–ç»“æ„
```
hexstrike_ai/
â”œâ”€â”€ mcp/                           # MCPæ¨¡å—æ ¹ç›®å½•
â”‚   â”œâ”€â”€ __init__.py               # æ¨¡å—åˆå§‹åŒ–å’Œé…ç½®
â”‚   â”œâ”€â”€ server.py                 # MCPæœåŠ¡å™¨ç®¡ç†
â”‚   â”œâ”€â”€ client/                   # å®¢æˆ·ç«¯é€šä¿¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ hexstrike_client.py   # HexStrike APIå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ connection_manager.py # è¿æ¥ç®¡ç†å’Œå¥åº·ç›‘æ§
â”‚   â””â”€â”€ tools/                    # å·¥å…·å‡½æ•°ç®¡ç†
â”‚       â”œâ”€â”€ manager.py            # å·¥å…·ç®¡ç†å™¨
â”‚       â”œâ”€â”€ network_tools.py      # ç½‘ç»œå®‰å…¨å·¥å…·
â”‚       â”œâ”€â”€ web_tools.py          # Webåº”ç”¨å®‰å…¨å·¥å…·
â”‚       â””â”€â”€ system_tools.py       # ç³»ç»Ÿå·¥å…·
```

### æ ¸å¿ƒç‰¹æ€§

#### ğŸ› ï¸ å·¥å…·å‡½æ•°ç®¡ç†ç³»ç»Ÿ
- **ç»Ÿä¸€æ³¨å†Œ**: æ‰€æœ‰å·¥å…·å‡½æ•°é€šè¿‡ç»Ÿä¸€çš„ç®¡ç†å™¨æ³¨å†Œå’Œåˆ†ç±»
- **æ‰§è¡Œç›‘æ§**: å®æ—¶ç›‘æ§å·¥å…·æ‰§è¡ŒçŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡å’ŒæˆåŠŸç‡
- **æ™ºèƒ½æ¢å¤**: è‡ªåŠ¨æ•…éšœæ¢å¤æœºåˆ¶ï¼Œç¡®ä¿å·¥å…·æ‰§è¡Œçš„å¯é æ€§
- **åˆ†ç±»ç®¡ç†**: æŒ‰åŠŸèƒ½åˆ†ç±»ç®¡ç†å·¥å…·ï¼ˆç½‘ç»œã€Webã€ç³»ç»Ÿã€åˆ†æç­‰ï¼‰

#### ğŸŒ å®¢æˆ·ç«¯é€šä¿¡ä¼˜åŒ–
- **è¿æ¥æ± ç®¡ç†**: é«˜æ•ˆçš„HTTPè¿æ¥æ± å’Œä¼šè¯ç®¡ç†
- **å¥åº·ç›‘æ§**: å®æ—¶ç›‘æ§ä¸HexStrikeæœåŠ¡å™¨çš„è¿æ¥çŠ¶æ€
- **è‡ªåŠ¨é‡è¿**: æ™ºèƒ½é‡è¿æœºåˆ¶ï¼Œæ”¯æŒæŒ‡æ•°é€€é¿ç­–ç•¥
- **è¯·æ±‚ä¼˜åŒ–**: æ”¯æŒç¼“å­˜ã€è¶…æ—¶æ§åˆ¶å’Œé‡è¯•æœºåˆ¶

#### ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡
- **æ‰§è¡ŒæŒ‡æ ‡**: è¯¦ç»†çš„å·¥å…·æ‰§è¡Œç»Ÿè®¡å’Œæ€§èƒ½åˆ†æ
- **æˆåŠŸç‡è¿½è¸ª**: å®æ—¶è¿½è¸ªå·¥å…·æ‰§è¡ŒæˆåŠŸç‡å’Œå¤±è´¥åŸå› 
- **èµ„æºç›‘æ§**: ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
- **ä¸­æ–‡æ—¥å¿—**: å®Œæ•´çš„ä¸­æ–‡åŒ–æ—¥å¿—è¾“å‡ºï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd hexstrike-ai

# å®‰è£…Pythonä¾èµ–
python3 -m pip install -r requirements.txt
```

### 2. å¯åŠ¨HexStrikeæœåŠ¡å™¨
```bash
# å¯åŠ¨ä¸»æœåŠ¡å™¨
python3 hexstrike_server.py

# æˆ–è€…æŒ‡å®šç«¯å£å¯åŠ¨
python3 hexstrike_server.py --port 8888
```

### 3. å¯åŠ¨MCPå®¢æˆ·ç«¯
```bash
# ä½¿ç”¨é»˜è®¤é…ç½®å¯åŠ¨
python3 hexstrike_mcp_new.py

# è‡ªå®šä¹‰é…ç½®å¯åŠ¨
python3 hexstrike_mcp_new.py --server-url http://localhost:8888 --debug
```

### 4. Claude Desktopé›†æˆ
1. æ›´æ–° `hexstrike-ai-mcp.json` é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„
2. å°†é…ç½®æ–‡ä»¶æ·»åŠ åˆ°Claude Desktopçš„MCPè®¾ç½®ä¸­
3. é‡å¯Claude Desktop

## ğŸ› ï¸ å·¥å…·åˆ†ç±»

### ç½‘ç»œä¾¦å¯Ÿå·¥å…·
- **Nmap**: ç½‘ç»œæ‰«æå’ŒæœåŠ¡è¯†åˆ«
- **Masscan**: é«˜é€Ÿç«¯å£æ‰«æ
- **RustScan**: å¿«é€Ÿç«¯å£å‘ç°
- **Amass**: å­åŸŸåå‘ç°
- **Subfinder**: è¢«åŠ¨å­åŸŸåæ”¶é›†

### Webåº”ç”¨å®‰å…¨å·¥å…·
- **Gobuster**: ç›®å½•å’Œå­åŸŸåæš´åŠ›ç ´è§£
- **Nuclei**: æ¼æ´æ‰«ææ¨¡æ¿å¼•æ“
- **SQLMap**: SQLæ³¨å…¥æ£€æµ‹å’Œåˆ©ç”¨
- **FFUF**: Webæ¨¡ç³Šæµ‹è¯•
- **Nikto**: WebæœåŠ¡å™¨æ‰«æ
- **Katana**: Webçˆ¬è™«
- **HTTPx**: HTTPæ¢æµ‹

### ç³»ç»Ÿå·¥å…·
- **å‘½ä»¤æ‰§è¡Œ**: å®‰å…¨çš„ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ
- **å¥åº·æ£€æŸ¥**: æœåŠ¡å™¨çŠ¶æ€ç›‘æ§
- **ç³»ç»Ÿä¿¡æ¯**: ç³»ç»Ÿé…ç½®æ”¶é›†
- **ç½‘ç»œä¿¡æ¯**: ç½‘ç»œé…ç½®åˆ†æ
- **è¿›ç¨‹ç®¡ç†**: è¿›ç¨‹åˆ—è¡¨å’Œç›‘æ§
- **æ–‡ä»¶æ“ä½œ**: æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥å’Œä¿¡æ¯è·å–

### æ™ºèƒ½åˆ†æå·¥å…·
- **AIç›®æ ‡åˆ†æ**: æ™ºèƒ½ç›®æ ‡åˆ†æå’Œå»ºè®®
- **æ¼æ´å…³è”**: å¤šé˜¶æ®µæ”»å‡»é“¾å‘ç°
- **æŠ€æœ¯æ£€æµ‹**: è‡ªåŠ¨æŠ€æœ¯æ ˆè¯†åˆ«

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬å·¥å…·è°ƒç”¨
```python
# æ‰§è¡ŒNmapæ‰«æ
result = nmap_scan(
    target="192.168.1.1",
    scan_type="-sV",
    ports="80,443,22"
)

# æ‰§è¡Œç›®å½•æ‰«æ
result = gobuster_scan(
    url="http://example.com",
    mode="dir",
    wordlist="/usr/share/wordlists/dirb/common.txt"
)

# æ‰§è¡Œæ¼æ´æ‰«æ
result = nuclei_scan(
    target="http://example.com",
    severity="high,critical"
)
```

### ç³»ç»Ÿç®¡ç†
```python
# æ£€æŸ¥æœåŠ¡å™¨å¥åº·çŠ¶æ€
status = check_health()

# è·å–ç³»ç»Ÿä¿¡æ¯
info = get_system_info()

# æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
result = execute_command("netstat -tuln")
```

### æ™ºèƒ½åˆ†æ
```python
# AIç›®æ ‡åˆ†æ
analysis = analyze_target(
    target="example.com",
    analysis_type="comprehensive"
)
```

## ğŸ”§ é…ç½®é€‰é¡¹

### å‘½ä»¤è¡Œå‚æ•°
```bash
python3 hexstrike_mcp_new.py [é€‰é¡¹]

é€‰é¡¹:
  --server-url URL     HexStrikeæœåŠ¡å™¨åœ°å€ (é»˜è®¤: http://127.0.0.1:8888)
  --name NAME          MCPæœåŠ¡å™¨åç§° (é»˜è®¤: hexstrike-ai-mcp)
  --timeout SECONDS    è¯·æ±‚è¶…æ—¶æ—¶é—´ (é»˜è®¤: 300)
  --max-retries COUNT  æœ€å¤§é‡è¯•æ¬¡æ•° (é»˜è®¤: 3)
  --debug              å¯ç”¨è°ƒè¯•æ¨¡å¼
  --log-level LEVEL    æ—¥å¿—çº§åˆ« (DEBUG, INFO, WARNING, ERROR)
  --version            æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  --help               æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### ç¯å¢ƒå˜é‡
```bash
# è®¾ç½®HexStrikeæœåŠ¡å™¨åœ°å€
export HEXSTRIKE_SERVER_URL="http://192.168.1.100:8888"

# è®¾ç½®æ—¥å¿—çº§åˆ«
export HEXSTRIKE_LOG_LEVEL="DEBUG"

# è®¾ç½®è¶…æ—¶æ—¶é—´
export HEXSTRIKE_TIMEOUT="600"
```

## ğŸ“Š ç›‘æ§å’Œè°ƒè¯•

### æ—¥å¿—ç³»ç»Ÿ
é‡æ„ç‰ˆæœ¬æä¾›äº†å®Œæ•´çš„ä¸­æ–‡åŒ–æ—¥å¿—ç³»ç»Ÿï¼š

```
ğŸš€ MCPæœåŠ¡å™¨ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ: hexstrike-ai-mcp
ğŸ“‹ å¼€å§‹å‘MCPæœåŠ¡å™¨æ³¨å†Œå·¥å…·å‡½æ•°...
ğŸ”§ æ³¨å†Œå·¥å…·: nmap_scan (æ‰§è¡ŒNmapç½‘ç»œæ‰«æ)
âœ… å·¥å…·æ³¨å†Œå®Œæˆ: 25/25 ä¸ªå·¥å…·æˆåŠŸæ³¨å†Œ
ğŸ¯ ç­‰å¾…AIä»£ç†è¿æ¥...
```

### å·¥å…·æ‰§è¡Œç›‘æ§
```
ğŸš€ å¼€å§‹æ‰§è¡Œå·¥å…·: æ‰§è¡ŒNmapç½‘ç»œæ‰«æ (nmap_scan)
ğŸ” å¯åŠ¨Nmapæ‰«æ: 192.168.1.1
âœ… å·¥å…·æ‰§è¡ŒæˆåŠŸ: æ‰§è¡ŒNmapç½‘ç»œæ‰«æ, è€—æ—¶: 15.32ç§’
ğŸ¯ å‘ç°å¼€æ”¾ç«¯å£: 5 ä¸ª
```

### æ€§èƒ½æŒ‡æ ‡
ç³»ç»Ÿæä¾›è¯¦ç»†çš„æ€§èƒ½ç›‘æ§ï¼š
- å·¥å…·æ‰§è¡Œæ¬¡æ•°å’ŒæˆåŠŸç‡
- å¹³å‡æ‰§è¡Œæ—¶é—´
- å¤±è´¥åŸå› åˆ†æ
- èµ„æºä½¿ç”¨ç»Ÿè®¡

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### å‘½ä»¤æ‰§è¡Œå®‰å…¨
- **å±é™©å‘½ä»¤è¿‡æ»¤**: è‡ªåŠ¨é˜»æ­¢å±é™©çš„ç³»ç»Ÿå‘½ä»¤
- **å‚æ•°éªŒè¯**: ä¸¥æ ¼çš„è¾“å…¥å‚æ•°éªŒè¯
- **è¶…æ—¶æ§åˆ¶**: é˜²æ­¢é•¿æ—¶é—´è¿è¡Œçš„å‘½ä»¤

### ç½‘ç»œå®‰å…¨
- **è¿æ¥åŠ å¯†**: æ”¯æŒHTTPSé€šä¿¡
- **è®¤è¯æœºåˆ¶**: å¯é…ç½®çš„APIè®¤è¯
- **è®¿é—®æ§åˆ¶**: ç»†ç²’åº¦çš„æƒé™æ§åˆ¶

## ğŸ”„ æ•…éšœæ¢å¤

### è‡ªåŠ¨æ¢å¤æœºåˆ¶
- **å·¥å…·æ‰§è¡Œå¤±è´¥**: è‡ªåŠ¨å°è¯•æ›¿ä»£å·¥å…·
- **ç½‘ç»œè¿æ¥ä¸­æ–­**: æ™ºèƒ½é‡è¿å’ŒçŠ¶æ€æ¢å¤
- **æœåŠ¡å™¨å¼‚å¸¸**: ä¼˜é›…é™çº§å’Œé”™è¯¯å¤„ç†

### é”™è¯¯å¤„ç†
```python
# ç¤ºä¾‹ï¼šè‡ªåŠ¨æ•…éšœæ¢å¤
result = nmap_scan("192.168.1.1")
if result.get("recovery_info", {}).get("recovery_applied"):
    print("ğŸ”„ åº”ç”¨äº†æ•…éšœæ¢å¤æœºåˆ¶")
```

## ğŸ“ˆ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°å·¥å…·
```python
# åœ¨é€‚å½“çš„å·¥å…·æ¨¡å—ä¸­æ·»åŠ æ–°å‡½æ•°
def my_custom_tool(target: str, options: str = "") -> Dict[str, Any]:
    """è‡ªå®šä¹‰å®‰å…¨å·¥å…·"""
    # å·¥å…·å®ç°
    pass

# åœ¨ç®¡ç†å™¨ä¸­æ³¨å†Œ
self.register_tool(
    name="my_custom_tool",
    category="custom",
    description="My custom security tool",
    chinese_description="æˆ‘çš„è‡ªå®šä¹‰å®‰å…¨å·¥å…·",
    function=my_custom_tool
)
```

### è‡ªå®šä¹‰å·¥å…·åˆ†ç±»
```python
# åœ¨ç®¡ç†å™¨ä¸­æ·»åŠ æ–°åˆ†ç±»
self.categories["custom"] = "è‡ªå®šä¹‰å·¥å…·"
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. MCPæœåŠ¡å™¨æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ä¾èµ–
python3 -c "import mcp; print('MCPåº“å·²å®‰è£…')"

# æ£€æŸ¥HexStrikeæœåŠ¡å™¨è¿æ¥
curl http://localhost:8888/health
```

#### 2. å·¥å…·æ‰§è¡Œå¤±è´¥
```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
python3 hexstrike_mcp_new.py --debug

# æ£€æŸ¥å·¥å…·å¯ç”¨æ€§
which nmap nuclei gobuster
```

#### 3. Claude Desktopé›†æˆé—®é¢˜
- æ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- ç¡®è®¤Pythonç¯å¢ƒå’Œä¾èµ–æ˜¯å¦å®Œæ•´
- æŸ¥çœ‹Claude Desktopçš„MCPæ—¥å¿—

### æ—¥å¿—åˆ†æ
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
python3 hexstrike_mcp_new.py --log-level DEBUG

# è¿‡æ»¤ç‰¹å®šç»„ä»¶æ—¥å¿—
python3 hexstrike_mcp_new.py --debug 2>&1 | grep "MCP-ToolsManager"
```

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

- **é¡¹ç›®ä¸»é¡µ**: [HexStrike AI GitHub](https://github.com/hexstrike/hexstrike-ai)
- **é—®é¢˜æŠ¥å‘Š**: é€šè¿‡GitHub Issuesæäº¤é—®é¢˜
- **åŠŸèƒ½å»ºè®®**: æ¬¢è¿æäº¤Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨å¼€æºè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

---

*HexStrike AI Team - ä¸“ä¸šçš„ç½‘ç»œå®‰å…¨è‡ªåŠ¨åŒ–å¹³å°*